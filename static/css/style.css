/* ExamCraft — style.css v4 (layout-fixed, all names in sync) */

:root {
  --bg:       #0d0f1a;
  --bg2:      #131626;
  --bg3:      #1a1d2e;
  --surface:  #1e2135;
  --surface2: #252840;          /* NOTE: --surface2, no dash — must match JS */
  --border:   rgba(255,255,255,.08);
  --border2:  rgba(255,255,255,.15);
  --accent:   #6366f1;
  --accent2:  #8b5cf6;
  --glow:     rgba(99,102,241,.22);
  --alight:   #a5b4fc;
  --ok:       #10b981;
  --ok-bg:    rgba(16,185,129,.1);
  --ok-b:     rgba(16,185,129,.25);
  --err:      #ef4444;
  --err-bg:   rgba(239,68,68,.1);
  --err-b:    rgba(239,68,68,.25);
  --text:     #e8eaf6;
  --text2:    #a0a8cc;
  --text3:    #6b7498;
  --r:        8px;
  --r2:       12px;
  --r3:       16px;
  --sw:       256px;   /* sidebar width */
  --ease:     all .2s cubic-bezier(.4,0,.2,1);
}

body.light {
  --bg: #f0f2ff; --bg2: #e8eaf6; --bg3: #dde0f8;
  --surface: #fff; --surface2: #f5f5ff;
  --border: rgba(0,0,0,.08); --border2: rgba(0,0,0,.15);
  --accent: #4f46e5; --accent2: #7c3aed; --glow: rgba(79,70,229,.18);
  --alight: #6366f1;
  --text: #1e1b4b; --text2: #3730a3; --text3: #6366f1;
}

*,*::before,*::after { box-sizing:border-box; margin:0; padding:0 }
html { font-size:15px; scroll-behavior:smooth }
body {
  font-family:'Sora',system-ui,sans-serif;
  background:var(--bg); color:var(--text);
  min-height:100vh; overflow-x:hidden;
  transition:background .3s,color .3s;
}

/* orbs */
.bg-orb { position:fixed; border-radius:50%; filter:blur(80px); pointer-events:none; z-index:0 }
.orb-1 { width:480px;height:480px;background:radial-gradient(circle,rgba(99,102,241,.13),transparent 70%);top:-140px;left:-100px }
.orb-2 { width:380px;height:380px;background:radial-gradient(circle,rgba(139,92,246,.10),transparent 70%);bottom:120px;right:-80px }
.orb-3 { width:300px;height:300px;background:radial-gradient(circle,rgba(16,185,129,.07),transparent 70%);top:55%;left:45% }

/* ─── Layout ─── */
.sidebar {
  position:fixed; top:0; left:0; z-index:200;
  width:var(--sw); height:100vh; overflow-y:auto; overflow-x:hidden;
  background:rgba(16,18,34,.97);
  border-right:1px solid var(--border);
  display:flex; flex-direction:column;
  padding:1.4rem 1.1rem;
  transition:transform .3s ease;
}
body.light .sidebar { background:rgba(255,255,255,.97) }

.main-content {
  margin-left:var(--sw);
  min-height:100vh;
  display:flex; flex-direction:column;
  position:relative; z-index:1;
}

/* ─── Sidebar internals ─── */
.sidebar-logo {
  display:flex; align-items:center; gap:.7rem;
  padding-bottom:1.2rem; margin-bottom:1.2rem;
  border-bottom:1px solid var(--border); flex-shrink:0;
}
.logo-icon {
  width:38px; height:38px; border-radius:9px; flex-shrink:0;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  display:flex; align-items:center; justify-content:center; color:#fff;
  box-shadow:0 4px 14px var(--glow);
}
.logo-name { font-size:1rem; font-weight:700; color:var(--text); letter-spacing:-.02em }
.logo-badge {
  font-size:.58rem; font-weight:700; letter-spacing:.12em; text-transform:uppercase;
  color:var(--alight); background:var(--glow); border:1px solid rgba(99,102,241,.3);
  border-radius:4px; padding:1px 5px; width:fit-content; margin-top:2px;
}

.step-nav { flex:1; min-height:0 }
.step-nav-label { font-size:.65rem; font-weight:600; letter-spacing:.1em; text-transform:uppercase; color:var(--text3); margin-bottom:.8rem }

.step-item { display:flex; align-items:flex-start; gap:.65rem; padding:.5rem .4rem; border-radius:var(--r); transition:var(--ease) }
.step-item.active { background:rgba(99,102,241,.1) }
.step-dot {
  width:25px; height:25px; border-radius:50%; flex-shrink:0;
  border:2px solid var(--border2);
  display:flex; align-items:center; justify-content:center;
  font-size:.7rem; font-weight:700; color:var(--text3); transition:var(--ease);
}
.step-item.active .step-dot { border-color:var(--accent); background:var(--glow); color:var(--alight) }
.step-item.done .step-dot  { border-color:var(--ok); background:var(--ok-bg); color:var(--ok) }
.step-title { font-size:.8rem; font-weight:600; color:var(--text); line-height:1 }
.step-item.active .step-title { color:var(--alight) }
.step-sub { font-size:.68rem; color:var(--text3); margin-top:2px }
.step-connector { width:2px; height:12px; background:var(--border2); margin-left:11px; border-radius:2px }

.sidebar-tips {
  margin-top:1.1rem; padding:.85rem; flex-shrink:0;
  background:rgba(99,102,241,.06); border:1px solid rgba(99,102,241,.14); border-radius:var(--r2);
}
.tip-header { display:flex; align-items:center; gap:.35rem; font-size:.66rem; font-weight:700; letter-spacing:.08em; text-transform:uppercase; color:var(--alight); margin-bottom:.6rem }
.tip-list { list-style:none; display:flex; flex-direction:column; gap:.4rem }
.tip-list li { font-size:.7rem; color:var(--text2); line-height:1.5; padding-left:.65rem; position:relative }
.tip-list li::before { content:'→'; position:absolute; left:0; color:var(--accent); font-size:.65rem }
.tip-list strong { color:var(--alight) }

.theme-toggle {
  margin-top:1.1rem; flex-shrink:0; width:100%;
  display:flex; align-items:center; gap:.5rem;
  padding:.58rem .9rem;
  background:transparent; border:1px solid var(--border); border-radius:var(--r);
  color:var(--text2); cursor:pointer; font-size:.77rem; font-family:'Sora',sans-serif; font-weight:500;
  transition:var(--ease);
}
.theme-toggle:hover { background:var(--surface2); border-color:var(--accent); color:var(--alight) }

/* ─── Topbar ─── */
.topbar {
  position:sticky; top:0; z-index:50; flex-shrink:0;
  height:54px; padding:0 1.8rem;
  background:rgba(13,15,26,.9); backdrop-filter:blur(20px);
  border-bottom:1px solid var(--border);
  display:flex; align-items:center; justify-content:space-between; gap:1rem;
}
body.light .topbar { background:rgba(240,242,255,.92) }
.topbar-left { display:flex; align-items:center; gap:.7rem }
.mobile-menu-btn {
  display:none; background:none; border:1px solid var(--border);
  border-radius:6px; padding:6px; cursor:pointer; color:var(--text2);
}
.page-breadcrumb { display:flex; align-items:center; gap:.4rem; font-size:.78rem; color:var(--text3) }
.breadcrumb-home { font-weight:600; color:var(--text2) }
.page-breadcrumb>span:last-child { color:var(--text); font-weight:500 }

.status-pill {
  display:flex; align-items:center; gap:.38rem;
  padding:.28rem .7rem;
  background:var(--ok-bg); border:1px solid var(--ok-b);
  border-radius:50px; font-size:.7rem; font-weight:500; color:var(--ok);
  transition:var(--ease);
}
.status-pill.loading { background:rgba(99,102,241,.1); border-color:rgba(99,102,241,.3); color:var(--alight) }
.status-pill.error   { background:var(--err-bg); border-color:var(--err-b); color:var(--err) }
.status-pill.success { background:var(--ok-bg); border-color:var(--ok-b); color:var(--ok) }
.status-dot { width:6px; height:6px; border-radius:50%; background:var(--ok); animation:pdot 2s infinite }
.status-pill.loading .status-dot { background:var(--alight) }
.status-pill.error   .status-dot { background:var(--err); animation:none }
@keyframes pdot { 0%,100%{opacity:1} 50%{opacity:.3} }

/* ─── Hero ─── */
.hero-strip {
  background:linear-gradient(135deg,var(--surface) 0%,var(--surface2) 100%);
  border-bottom:1px solid var(--border);
  padding:1.5rem 1.8rem;
  display:flex; align-items:center; justify-content:space-between; gap:1.5rem;
  flex-shrink:0;
}
.hero-text h1 {
  font-size:1.25rem; font-weight:700; line-height:1.2;
  background:linear-gradient(135deg,var(--text),var(--alight));
  -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
}
.hero-text p { font-size:.78rem; color:var(--text2); margin-top:.3rem; font-weight:300 }
.hero-stats { display:flex; align-items:center; gap:.9rem; flex-shrink:0 }
.stat-item { text-align:center }
.stat-value { font-size:1.35rem; font-weight:800; color:var(--alight); line-height:1 }
.stat-label { font-size:.6rem; text-transform:uppercase; letter-spacing:.08em; color:var(--text3); margin-top:2px }
.stat-divider { width:1px; height:30px; background:var(--border) }

/* ─── Form ─── */
#paperForm { padding:1.5rem 1.8rem; display:flex; flex-direction:column; gap:1.3rem; flex:1 }

.form-grid { display:grid; grid-template-columns:1fr 1fr; gap:1.3rem }
.form-card {
  background:var(--surface); border:1px solid var(--border); border-radius:var(--r3); overflow:hidden;
  transition:var(--ease);
}
.form-card:hover { border-color:var(--border2) }
.form-card[data-card="3"] { grid-column:1/-1 }

.card-header {
  display:flex; align-items:center; gap:.85rem;
  padding:.95rem 1.2rem;
  background:var(--surface2); border-bottom:1px solid var(--border);
}
.card-num {
  font-size:.6rem; font-weight:800; letter-spacing:.1em;
  color:var(--accent); background:var(--glow);
  border:1px solid rgba(99,102,241,.25); border-radius:5px;
  padding:2px 6px; font-family:'JetBrains Mono',monospace; flex-shrink:0;
}
.card-title { font-size:.86rem; font-weight:700; color:var(--text) }
.card-desc  { font-size:.68rem; color:var(--text3); margin-top:1px }

.card-body { padding:1.2rem; display:flex; flex-direction:column; gap:.85rem }

/* input grid rows */
.input-row   { display:grid; grid-template-columns:1fr 1fr; gap:.85rem }
.three-col   { grid-template-columns:1fr 1fr 1fr }

.input-group { display:flex; flex-direction:column; gap:.35rem }
.input-group label {
  display:flex; align-items:center; gap:.3rem;
  font-size:.7rem; font-weight:600; letter-spacing:.04em; text-transform:uppercase; color:var(--text2);
}
.input-group label svg { opacity:.65; flex-shrink:0 }
.label-opt { font-size:.62rem; text-transform:none; letter-spacing:0; color:var(--text3); font-weight:400; margin-left:auto }

input[type="text"], textarea {
  width:100%; background:var(--bg2); border:1.5px solid var(--border); border-radius:var(--r);
  padding:.6rem .82rem; color:var(--text);
  font-family:'Sora',sans-serif; font-size:.85rem; transition:var(--ease);
}
input[type="text"]::placeholder, textarea::placeholder { color:var(--text3) }
input[type="text"]:focus, textarea:focus {
  outline:none; border-color:var(--accent); background:var(--surface2); box-shadow:0 0 0 3px var(--glow);
}
textarea { resize:vertical; min-height:66px; line-height:1.6 }

.sel-wrap { position:relative }
.sel-wrap select {
  width:100%; background:var(--bg2); border:1.5px solid var(--border); border-radius:var(--r);
  padding:.6rem 1.9rem .6rem .82rem; color:var(--text);
  font-family:'Sora',sans-serif; font-size:.85rem; appearance:none; cursor:pointer; transition:var(--ease);
}
.sel-wrap select:focus { outline:none; border-color:var(--accent); background:var(--surface2); box-shadow:0 0 0 3px var(--glow) }
.sel-wrap select option { background:var(--bg3); color:var(--text) }
.sel-arrow { position:absolute; right:8px; top:50%; transform:translateY(-50%); pointer-events:none; color:var(--text3) }

.chapter-hint { font-size:.65rem; color:var(--text3); margin-top:3px }

/* slider */
.marks-wrap { display:flex; flex-direction:column; gap:.42rem }
.marks-slider { -webkit-appearance:none; width:100%; height:6px; border-radius:3px; outline:none; cursor:pointer }
.marks-slider::-webkit-slider-thumb {
  -webkit-appearance:none; width:20px; height:20px; border-radius:50%;
  background:#fff; box-shadow:0 2px 8px rgba(99,102,241,.5),0 0 0 3px var(--accent); cursor:grab;
}
.marks-slider::-webkit-slider-thumb:active { cursor:grabbing; box-shadow:0 2px 12px rgba(99,102,241,.7),0 0 0 5px var(--glow) }
.marks-slider::-moz-range-thumb { width:20px; height:20px; border-radius:50%; background:#fff; border:3px solid var(--accent); cursor:grab }
.marks-ticks { display:flex; justify-content:space-between; font-size:.65rem; color:var(--text3); font-family:'JetBrains Mono',monospace }

/* difficulty pills */
.diff-pills { display:flex; gap:.42rem; flex-wrap:wrap }
.diff-pill {
  display:flex; align-items:center; gap:.28rem;
  padding:.42rem .85rem; border:1.5px solid var(--border); border-radius:50px;
  background:transparent; color:var(--text2);
  font-family:'Sora',sans-serif; font-size:.78rem; font-weight:500; cursor:pointer; transition:var(--ease);
}
.diff-pill:hover { border-color:var(--accent); color:var(--alight) }
.diff-pill.active { background:linear-gradient(135deg,var(--accent),var(--accent2)); border-color:transparent; color:#fff; box-shadow:0 4px 14px rgba(99,102,241,.35) }

/* section toggles */
.toggle-grid { display:grid; grid-template-columns:1fr 1fr; gap:.42rem }
.tog-item {
  display:flex; align-items:center; gap:.52rem;
  padding:.58rem .82rem;
  background:var(--bg2); border:1.5px solid var(--border); border-radius:var(--r);
  cursor:pointer; transition:var(--ease); user-select:none;
}
.tog-item:hover { border-color:var(--accent) }
.tog-item input { display:none }
.tog-sw {
  position:relative; width:30px; height:17px; border-radius:9px; flex-shrink:0;
  background:var(--surface2); border:1.5px solid var(--border); transition:var(--ease);
}
.tog-sw::after { content:''; position:absolute; top:2px; left:2px; width:9px; height:9px; border-radius:50%; background:var(--text3); transition:var(--ease) }
.tog-item input:checked ~ .tog-sw { background:var(--accent); border-color:var(--accent) }
.tog-item input:checked ~ .tog-sw::after { transform:translateX(13px); background:#fff }
.tog-label { font-size:.74rem; font-weight:500; color:var(--text2); letter-spacing:0; text-transform:none }
.tog-item input:checked ~ .tog-sw ~ .tog-label { color:var(--alight) }

/* answer key big toggle */
.akey-row {
  display:flex; align-items:center; justify-content:space-between; gap:1rem;
  padding:.9rem 1rem; margin-top:.15rem;
  background:linear-gradient(135deg,rgba(99,102,241,.08),rgba(139,92,246,.05));
  border:1.5px solid rgba(99,102,241,.2); border-radius:var(--r2);
  cursor:pointer; transition:var(--ease);
}
.akey-row:hover { border-color:var(--accent); box-shadow:0 0 0 3px var(--glow) }
.akey-left { display:flex; align-items:center; gap:.65rem }
.akey-icon {
  width:32px; height:32px; flex-shrink:0;
  background:var(--glow); border:1px solid rgba(99,102,241,.28); border-radius:7px;
  display:flex; align-items:center; justify-content:center; color:var(--alight);
}
.akey-title { font-size:.84rem; font-weight:600; color:var(--text) }
.akey-desc  { font-size:.68rem; color:var(--text3); margin-top:1px }
.big-tog { position:relative; flex-shrink:0 }
.big-tog input { display:none }
.big-tog-track {
  display:block; width:46px; height:25px; border-radius:13px;
  background:var(--surface2); border:2px solid var(--border);
  cursor:pointer; transition:var(--ease); position:relative;
}
.big-tog-track::after { content:''; position:absolute; top:3px; left:3px; width:15px; height:15px; border-radius:50%; background:var(--text3); transition:var(--ease) }
.big-tog input:checked ~ .big-tog-track { background:linear-gradient(135deg,var(--accent),var(--accent2)); border-color:transparent; box-shadow:0 4px 12px rgba(99,102,241,.4) }
.big-tog input:checked ~ .big-tog-track::after { transform:translateX(21px); background:#fff }

/* ─── Generate bar ─── */
.gen-bar {
  display:flex; align-items:center; justify-content:space-between; gap:1.5rem;
  padding:1.3rem 1.5rem;
  background:var(--surface); border:1px solid var(--border); border-radius:var(--r3);
}
.gen-info { display:flex; align-items:center; gap:.42rem; font-size:.74rem; color:var(--text3) }
.gen-info svg { color:var(--accent); flex-shrink:0 }

.gen-btn {
  display:flex; align-items:center; justify-content:center; gap:.6rem;
  padding:.78rem 1.7rem; min-width:220px;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  border:none; border-radius:var(--r2); color:#fff;
  font-family:'Sora',sans-serif; font-size:.9rem; font-weight:700;
  cursor:pointer; transition:var(--ease);
  box-shadow:0 6px 22px rgba(99,102,241,.3);
  position:relative; overflow:hidden;
}
.gen-btn::before { content:''; position:absolute; inset:0; background:linear-gradient(135deg,rgba(255,255,255,.12),transparent); opacity:0; transition:opacity .18s }
.gen-btn:hover:not(:disabled)::before { opacity:1 }
.gen-btn:hover:not(:disabled) { transform:translateY(-2px); box-shadow:0 10px 30px rgba(99,102,241,.42) }
.gen-btn:active:not(:disabled) { transform:translateY(0) }
.gen-btn:disabled { opacity:.55; cursor:not-allowed; transform:none }

.btn-icon, .btn-spinner { display:flex; align-items:center }

/* SPINNER: hidden by default, shown with .show class */
.btn-spinner { display:none }
.btn-spinner.show { display:flex }

@keyframes spin { from{transform:rotate(0)} to{transform:rotate(360deg)} }
.spin-svg { animation:spin .9s linear infinite }

/* ─── Output ─── */
.output-wrap { padding:0 1.8rem 1.8rem; display:flex; flex-direction:column; gap:1.3rem }
.out-card { background:var(--surface); border:1px solid var(--border); border-radius:var(--r3); overflow:hidden }
.out-head {
  display:flex; align-items:center; justify-content:space-between; gap:1rem;
  padding:.88rem 1.2rem; background:var(--surface2); border-bottom:1px solid var(--border);
}
.out-head.green { background:rgba(16,185,129,.08); border-bottom-color:rgba(16,185,129,.15) }
.out-title { display:flex; align-items:center; gap:.42rem; font-size:.84rem; font-weight:700; color:var(--text) }
.out-head.green .out-title { color:var(--ok) }
.out-actions { display:flex; gap:.45rem }
.out-btn {
  display:flex; align-items:center; gap:.32rem; padding:.38rem .75rem;
  background:transparent; border:1.5px solid var(--border); border-radius:7px;
  color:var(--text2); font-family:'Sora',sans-serif; font-size:.73rem; font-weight:600; cursor:pointer; transition:var(--ease);
}
.out-btn:hover:not(:disabled) { border-color:var(--accent); color:var(--alight) }
.out-btn.primary { background:linear-gradient(135deg,var(--accent),var(--accent2)); border-color:transparent; color:#fff }
.out-btn.primary:hover:not(:disabled) { box-shadow:0 4px 14px rgba(99,102,241,.38); transform:translateY(-1px); color:#fff }
.out-btn:disabled { opacity:.3; cursor:not-allowed }

.paper-pre {
  padding:1.3rem; min-height:200px; max-height:560px; overflow-y:auto;
  font-family:'JetBrains Mono',monospace; font-size:.8rem; line-height:1.85;
  color:var(--text); white-space:pre-wrap; word-break:break-word;
}
.paper-pre::-webkit-scrollbar { width:5px }
.paper-pre::-webkit-scrollbar-track { background:transparent }
.paper-pre::-webkit-scrollbar-thumb { background:var(--surface2); border-radius:3px }
.ph { display:flex; flex-direction:column; align-items:center; justify-content:center; height:200px; gap:.6rem }
.ph-icon { font-size:2rem; opacity:.22 }
.ph-txt { font-size:.76rem; color:var(--text3); font-family:'Sora',sans-serif }

/* ─── Toast ─── */
.toast-wrap { position:fixed; bottom:1.6rem; right:1.6rem; z-index:9999; display:flex; flex-direction:column; gap:.45rem; pointer-events:none }
.toast {
  display:flex; align-items:center; gap:.5rem; padding:.65rem .95rem;
  border-radius:var(--r2); font-size:.78rem; font-weight:500;
  pointer-events:all; box-shadow:0 8px 30px rgba(0,0,0,.5); animation:tin .22s ease; max-width:290px;
}
.toast.success { background:var(--ok-bg); border:1px solid var(--ok-b); color:var(--ok) }
.toast.error   { background:var(--err-bg); border:1px solid var(--err-b); color:var(--err) }
.toast.info    { background:rgba(99,102,241,.12); border:1px solid rgba(99,102,241,.3); color:var(--alight) }
@keyframes tin { from{opacity:0;transform:translateX(16px)} to{opacity:1;transform:translateX(0)} }

/* ─── Loading overlay ─── */
.loading-overlay {
  position:fixed; inset:0; background:rgba(0,0,0,.72);
  backdrop-filter:blur(7px); z-index:9999;
  display:flex; align-items:center; justify-content:center;
}
.loading-card {
  background:var(--surface); border:1px solid var(--border); border-radius:20px;
  padding:2.1rem 2.6rem; text-align:center;
  box-shadow:0 20px 60px rgba(0,0,0,.5); min-width:260px;
  animation:sup .22s ease;
}
@keyframes sup { from{opacity:0;transform:translateY(16px)} to{opacity:1;transform:translateY(0)} }
.load-ring { position:relative; width:54px; height:54px; margin:0 auto 1rem }
.load-ring svg { animation:spin 1.8s linear infinite }
.load-emoji { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:1.25rem }
.load-title { font-size:.92rem; font-weight:700; color:var(--text); margin-bottom:.9rem }
.load-steps { display:flex; flex-direction:column; gap:.38rem; text-align:left }
.ls-step { font-size:.73rem; color:var(--text3); padding:.32rem .6rem; border-radius:6px; border:1px solid transparent; display:flex; align-items:center; gap:.38rem; transition:var(--ease) }
.ls-step::before { content:'○'; font-size:.65rem }
.ls-step.active { color:var(--alight); background:var(--glow); border-color:rgba(99,102,241,.18) }
.ls-step.active::before { content:'◉'; animation:pdot 1s infinite }
.ls-step.done { color:var(--ok) }
.ls-step.done::before { content:'✓'; animation:none }

/* ─── Footer ─── */
.site-footer {
  margin:1rem 1.8rem 1.8rem; padding:.85rem 1.2rem;
  background:var(--surface); border:1px solid var(--border); border-radius:var(--r2);
  font-size:.7rem; color:var(--text3);
  display:flex; align-items:center; gap:.6rem; flex-wrap:wrap;
}
.sep { color:var(--border2) }
.site-footer a { color:var(--alight); text-decoration:none }
.site-footer a:hover { text-decoration:underline }

/* ─── Responsive ─── */
@media (max-width:1024px) {
  .form-grid { grid-template-columns:1fr }
  .form-card[data-card="3"] { grid-column:1 }
  .three-col { grid-template-columns:1fr 1fr }
}
@media (max-width:768px) {
  .sidebar { transform:translateX(-100%) }
  .sidebar.open { transform:translateX(0) }
  .main-content { margin-left:0 }
  .mobile-menu-btn { display:flex }
  #paperForm { padding:1rem }
  .hero-strip { flex-direction:column; align-items:flex-start; padding:1.1rem 1rem }
  .hero-text h1 { font-size:1.05rem }
  .input-row { grid-template-columns:1fr }
  .three-col { grid-template-columns:1fr 1fr }
  .toggle-grid { grid-template-columns:1fr }
  .gen-bar { flex-direction:column; align-items:stretch; padding:.9rem 1rem }
  .gen-btn { min-width:unset }
  .output-wrap { padding:0 1rem 1rem }
  .topbar { padding:0 1rem }
  .site-footer { margin:.5rem 1rem 1.2rem }
}
@media (max-width:480px) {
  .three-col { grid-template-columns:1fr }
  .diff-pills { gap:.32rem }
  .diff-pill { padding:.38rem .72rem; font-size:.74rem }
}